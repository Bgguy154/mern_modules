<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fitness Challenge Tracker</title>

  <style>
    body { font-family: Poppins, sans-serif; margin: 0; background: #f5f6fa; padding: 20px; }
    h1 { text-align: center; margin-bottom: 25px; }
    .container { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; }
    .box { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }

    label { display: block; margin: 10px 0 5px; font-weight: bold; }
    input, select { width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #ccc; }

    button { padding: 10px 15px; margin-top: 15px; border: none; background: #0984e3; color: white; border-radius: 6px; cursor: pointer; font-size: 16px; }

    .challenge-card { background: #fff; padding: 15px; margin: 12px 0; border-radius: 10px; border-left: 6px solid #00cec9; }

    .progress-bar { height: 10px; width: 100%; border-radius: 5px; background: #dfe6e9; margin-top: 10px; overflow: hidden; }
    .progress-fill { height: 100%; width: 0%; background: #00cec9; }

    .hidden { display: none; }

    tr.winner { background: linear-gradient(90deg, rgba(46,204,113,0.12), transparent); font-weight: 600; border-left: 4px solid #2ecc71; }
    tr { cursor: pointer; }
  </style>
</head>
<body>

  <h1>Fitness Challenge Tracker</h1>

  <div class="container">

    <!-- Participant Form -->
    <div class="box">
      <h2>Add Participant (<span id="totalUsers">0</span>)</h2>
      <form id="participantForm">
        <label>Name</label>
        <input type="text" id="pName" required />

        <label>Age</label>
        <input type="number" id="pAge" required min="1"/>

        <label>Fitness Level</label>
        <select id="pLevel">
          <option value="Beginner">Beginner</option>
          <option value="Intermediate">Intermediate</option>
          <option value="Advanced">Advanced</option>
        </select>

        <button type="submit">Add Participant</button>
      </form>

      <div id="participantList"></div>
    </div>

    <!-- Challenge Form -->
    <div class="box">
      <h2>Create Challenge (<span id="totalSessions">0</span>)</h2>
      <form id="challengeForm">
        <label>Challenge Name</label>
        <input type="text" id="cName" minlength="5" required />

        <label>Type</label>
        <select id="cType" required>
          <option value="">Select type</option>
          <option>Running (km)</option>
          <option>Push-ups</option>
          <option>Steps</option>
          <option>Cycling</option>
        </select>

        <label>Goal</label>
        <input type="number" id="cGoal" min="1" required />

        <label>Duration (days)</label>
        <input type="number" id="cDuration" min="1" max="30" required />

        <h4>Select Participants</h4>
        <div id="challengeParticipants"></div>

        <button type="submit">Create Challenge</button>
      </form>
    </div>

    <!-- Leaderboard -->
    <div class="box">
      <h2>Leaderboard</h2>

      <!-- MISSING FILTERS ADDED -->
      <label>Subject Filter:</label>
      <select id="filterSubject">
        <option value="all">All Subjects</option>
      </select>

      <label>Sort by Date:</label>
      <select id="sortByDate">
        <option value="asc">Oldest First</option>
        <option value="desc">Newest First</option>
      </select>

      <label>Search Challenges:</label>
      <input id="searchInput" placeholder="Search challenge..." />

      <select id="leaderboardChallengeSelect"></select>

      <table id="leaderboard" aria-live="polite">
        <thead>
          <tr>
            <th>Rank</th>
            <th>Name</th>
            <th>Progress</th>
            <th>Percentage</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <!-- Daily Logs -->
    <div class="box">
      <h2>Daily Logs (<span id="totalParticipants">0</span>)</h2>
      <div id="dailyLogsContainer"></div>
    </div>

  </div>

  <!-- Challenge List Section -->
  <div class="box" style="margin-top:20px;">
    <h2>Active Challenges</h2>
    <div id="challengeList"></div>

    <!-- Hidden Log Form -->
    <div id="logForm" class="hidden">
      <h3>Log Progress</h3>

      <label>Participant:</label>
      <select id="logParticipant"></select>

      <label>Value:</label>
      <input id="logValue" type="number" min="1"/>

      <label>Date:</label>
      <input id="logDate" type="date"/>

      <button id="saveLogBtn">Save</button>
      <button id="cancelLogBtn">Cancel</button>
    </div>
  </div>

  <script src="app.js"></script>
</body>

</html>
